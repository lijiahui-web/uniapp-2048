{"version":3,"sources":["webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue","webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue?7ad7","webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue?e220","webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue?c424","webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue?9799","webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue?1b62","webpack:///C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue?acb1"],"names":["data","score","highscore","grids","touchStartX","touchStartY","touchEndX","touchEndY","isMultiple","won","over","dataMsg","onLoad","game_manager","GameManager","setup","localStorage","getItem","methods","restart","updateView","highScore","x","length","Vue","set","touchStart","events","touches","touch","clientX","clientY","touchMove","touchEnd","dx","dy","absX","Math","abs","absY","max","direction","move","wx","getStorageSync","setStorageSync"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Grid from '../js/grid.js'\nimport GameManager from '../js/game_manager.js'\nimport Tile from '../js/tile.js'\nimport Vue from 'vue'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tscore: 0,\n\t\t\thighscore: 0,\n\t\t\tgrids: [],\n\t\t\ttouchStartX: 0,\n\t\t\ttouchStartY: 0,\n\t\t\ttouchEndX: 0,\n\t\t\ttouchEndY: 0,\n\t\t\tisMultiple: false,\n\t\t\twon: false,\n\t\t\tover: false,\n\t\t\tdataMsg: '游戏结束'\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.game_manager = new GameManager(4)\n\t\tthis.grids = this.game_manager.setup()\n\t\tthis.highscore = localStorage.getItem('highScore') || 0\n\t},\n\tmethods: {\n\t\trestart: function(){\n\t\t\t// 重置游戏参数\n\t\t\tthis.updateView({\n\t\t\t\tgrids: this.game_manager.restart(),\n\t\t\t\tscore: 0,\n\t\t\t\twon: false,\n\t\t\t\tover: false\n\t\t\t})\n\t\t},\n\t\t/* \n\t\t * 更新视图\n\t\t * data: 移动后返回的数据对象\n\t\t */\n\t\tupdateView: function(data){\n\t\t\tif(data.over == true){\n\t\t\t\tthis.dataMsg = \"游戏结束\"\n\t\t\t}\n\t\t\tif(data.won == true){\n\t\t\t\tthis.dataMsg = \"恭喜\"\n\t\t\t}\n\t\t\tthis.grids = data.grids\n\t\t\tthis.score = data.score\n\t\t\tthis.highscore = data.highScore\n\t\t\tthis.won = data.won\n\t\t\tthis.over = data.over\n\t\t\tfor(let x = 0; x < this.grids.length; x++){\n\t\t\t\tVue.set(this.grids, x, data.grids[x])\n\t\t\t}\n\t\t},\n\t\ttouchStart: function(events){\n\t\t\t//是否多指操作\n\t\t\tthis.isMultiple = events.touches.length > 1\n\t\t\tif(this.isMultiple){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet touch = events.touches[0]\n\t\t\tthis.touchStartX = touch.clientX\n\t\t\tthis.touchStartY = touch.clientY\n\t\t},\n\t\ttouchMove: function(events){\n\t\t\tlet touch = events.touches[0]\n\t\t\tthis.touchEndX = touch.clientX\n\t\t\tthis.touchEndY = touch.clientY\n\t\t},\n\t\ttouchEnd: function(events){\n\t\t\tif(this.isMultiple){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet dx = this.touchEndX - this.touchStartX\n\t\t\tlet dy = this.touchEndY - this.touchStartY\n\t\t\tlet absX = Math.abs(dx)\n\t\t\tlet absY = Math.abs(dy)\n\t\t\tif(Math.max(absX,absY) > 10){\n\t\t\t\t// 滑动方向direction: 1向右,3向左,2向下,4向上\n\t\t\t\tlet direction = absX > absY ? ( dx > 0 ? 1 : 3 ) : ( dy > 0 ? 2 : 4)\n\t\t\t\tlet data = this.game_manager.move(direction)\n\t\t\t\tif(data){\n\n\n\n\n\n\n\t\t\t\t\tvar highscore = wx.getStorageSync('highscore') || 0\n\t\t\t\t\thighscore = Math.max(highscore, data.score)\n\t\t\t\t\twx.setStorageSync('highscore', data.score);\n\n\t\t\t\t\tthis.updateView({\n\t\t\t\t\t\tgrids: data.grids,\n\t\t\t\t\t\tscore: data.score,\n\t\t\t\t\t\thighScore: highscore,\n\t\t\t\t\t\twon: data.won,\n\t\t\t\t\t\tover: data.over\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=12df1e96&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('12df1e96', component.options)\n    } else {\n      api.reload('12df1e96', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=12df1e96&\", function () {\n      api.rerender('12df1e96', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/lijiahui/Documents/HBuilderProjects/uniapp-2048/pages/index/index.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.1.9.0.20190412.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=template&id=12df1e96&\""],"sourceRoot":""}